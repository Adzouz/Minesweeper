(window.webpackJsonpdemineur=window.webpackJsonpdemineur||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(8),r=n.n(i),s=(n(15),n(9)),l=n(2),c=n(3),m=n(5),h=n(4),u=n(1),d=n(6),b=(n(16),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){return o.a.createElement("form",{style:p},o.a.createElement("div",{style:f},"Rows: ",o.a.createElement("input",{type:"number",name:"nbRows",value:this.props.nbRows,onChange:this.handleChange,style:g})),o.a.createElement("div",{style:f},"Columns: ",o.a.createElement("input",{type:"number",name:"nbColumns",value:this.props.nbColumns,onChange:this.handleChange,style:g})),o.a.createElement("div",{style:f},"Bombs: ",o.a.createElement("input",{type:"number",min:"1",max:Math.round(this.props.nbRows*this.props.nbColumns-this.props.nbRows*this.props.nbColumns/100*50),name:"nbBombs",value:this.props.nbBombs,onChange:this.handleChange,style:g})))}}]),t}(a.Component)),p={display:"flex",justifyContent:"center",width:"100%",backgroundColor:"#0a3d62",padding:"5px"},g={width:"50px",padding:"5px 0",border:"0",appearance:"none",margin:"5px",textAlign:"center"},f={display:"flex",alignItems:"center",color:"#fff"},y=b,v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,n=t.coords,a=t.infos,o=t.toggleMarkTile,i=t.endGame,r=t.showTile;"click"!==e.type||a.marked?"contextmenu"===e.type&&o(n):(r(n),a.bomb&&i())}},{key:"getCellStyle",value:function(){return{fontSize:"3rem",lineHeight:"48px",width:"50px",minWidth:"50px",height:"50px",textAlign:"center",cursor:"pointer",userSelect:"none",border:"2px solid #0a3d62",borderRadius:"8px",backgroundColor:this.props.infos.showed?"#fff":"#051e31"}}},{key:"render",value:function(){var e=this.props.infos,t=e.bomb,n=e.counter,a=e.marked,i=e.showed;return o.a.createElement("td",{className:"col",style:this.getCellStyle(),onClick:this.handleClick,onContextMenu:this.handleClick},o.a.createElement("div",null,a?o.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83d\udea9"):t&&i?o.a.createElement("span",{role:"img","aria-label":"bomb"},"\ud83d\udca3"):n&&i>0?n:""))}}]),t}(a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=[],t=this.props,n=t.columns,a=t.row,i=t.endGame,r=t.showTile,s=t.toggleMarkTile,l=0;l<n.length;l++)e.push(o.a.createElement(v,{coords:[a,l],infos:n[l],key:l,showTile:r,toggleMarkTile:s,endGame:i}));return o.a.createElement("tr",{className:"row",style:x},e)}}]),t}(a.Component),x={width:"100%"},C=w,k=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=[],t=this.props,n=t.table,a=t.nbLeftTiles,i=t.endGame,r=t.showTile,s=t.toggleMarkTile,l=0;l<n.length;l++)e.push(o.a.createElement(C,{columns:n[l],key:l,row:l,showTile:r,toggleMarkTile:s,endGame:i}));return o.a.createElement("div",{style:E},o.a.createElement("div",{className:"remaining",style:O},"Remaining tiles: ",a),o.a.createElement("div",{className:"scrollable-table",style:j},o.a.createElement("table",{style:T},o.a.createElement("tbody",null,e))))}}]),t}(a.Component),E={flex:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},O={fontSize:"2rem"},j={maxWidth:"100%",overflowX:"scroll"},T={borderCollapse:"collapse"},M=k,R=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={nbRows:10,nbColumns:7,nbBombs:10,gameOver:!1,matrix:[]},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.showTile=n.showTile.bind(Object(u.a)(n)),n.toggleMarkTile=n.toggleMarkTile.bind(Object(u.a)(n)),n.displayAll=n.displayAll.bind(Object(u.a)(n)),n.resetBombs=n.resetBombs.bind(Object(u.a)(n)),n.endGame=n.endGame.bind(Object(u.a)(n)),n.resetGame=n.resetGame.bind(Object(u.a)(n)),n.nbLeftTiles=n.nbLeftTiles.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(s.a)({},e.target.name,parseInt(e.target.value)>0?parseInt(e.target.value):1),this.resetBombs)}},{key:"toggleMarkTile",value:function(e){var t=this.state.matrix;t[e[0]][e[1]].marked=!t[e[0]][e[1]].marked,this.setState({matrix:t})}},{key:"showTile",value:function(e){var t=this.state.matrix;t[e[0]][e[1]].marked=!1,t[e[0]][e[1]].showed=!0,this.setState({matrix:t}),0!==this.nbLeftTiles()||this.state.gameOver||this.displayAll(),0!==t[e[0]][e[1]].counter||t[e[0]][e[1]].bomb||(t[e[0]-1]&&t[e[0]-1][e[1]-1]&&(0===t[e[0]-1][e[1]-1].counter||0!==t[e[0]-1][e[1]-1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]-1][e[1]-1].bomb&&!t[e[0]-1][e[1]-1].showed&&this.showTile([e[0]-1,e[1]-1]),t[e[0]-1]&&t[e[0]-1][e[1]]&&(0===t[e[0]-1][e[1]].counter||0!==t[e[0]-1][e[1]].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]-1][e[1]].bomb&&!t[e[0]-1][e[1]].showed&&this.showTile([e[0]-1,e[1]]),t[e[0]-1]&&t[e[0]-1][e[1]+1]&&(0===t[e[0]-1][e[1]+1].counter||0!==t[e[0]-1][e[1]+1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]-1][e[1]+1].bomb&&!t[e[0]-1][e[1]+1].showed&&this.showTile([e[0]-1,e[1]+1]),t[e[0]]&&t[e[0]][e[1]-1]&&(0===t[e[0]][e[1]-1].counter||0!==t[e[0]][e[1]-1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]][e[1]-1].bomb&&!t[e[0]][e[1]-1].showed&&this.showTile([e[0],e[1]-1]),t[e[0]]&&t[e[0]][e[1]+1]&&(0===t[e[0]][e[1]+1].counter||0!==t[e[0]][e[1]+1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]][e[1]+1].bomb&&!t[e[0]][e[1]+1].showed&&this.showTile([e[0],e[1]+1]),t[e[0]+1]&&t[e[0]+1][e[1]-1]&&(0===t[e[0]+1][e[1]-1].counter||0!==t[e[0]+1][e[1]-1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]+1][e[1]-1].bomb&&!t[e[0]+1][e[1]-1].showed&&this.showTile([e[0]+1,e[1]-1]),t[e[0]+1]&&t[e[0]+1][e[1]]&&(0===t[e[0]+1][e[1]].counter||0!==t[e[0]+1][e[1]].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]+1][e[1]].bomb&&!t[e[0]+1][e[1]].showed&&this.showTile([e[0]+1,e[1]]),t[e[0]+1]&&t[e[0]+1][e[1]+1]&&(0===t[e[0]+1][e[1]+1].counter||0!==t[e[0]+1][e[1]+1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]+1][e[1]+1].bomb&&!t[e[0]+1][e[1]+1].showed&&this.showTile([e[0]+1,e[1]+1]))}},{key:"displayAll",value:function(){var e=this.state.matrix.map(function(e){return e.map(function(e){return e.showed=!0,e})});this.setState({matrix:e})}},{key:"nbLeftTiles",value:function(){var e=0;return this.state.matrix.map(function(t){return t.map(function(t){return t.showed||t.bomb||e++,t}),t}),e}},{key:"endGame",value:function(){this.displayAll(),this.setState({gameOver:!0})}},{key:"resetGame",value:function(){this.setState({gameOver:!1}),this.resetBombs()}},{key:"resetBombs",value:function(){var e=[],t=this.state.nbBombs,n=Math.round(this.state.nbRows*this.state.nbColumns-this.state.nbRows*this.state.nbColumns/100*50);this.state.nbBombs>n&&(this.setState({nbBombs:n}),t=n);for(var a=0;a<t;a++)for(var o=!0,i=[Math.floor(Math.random()*Math.floor(this.state.nbRows)),Math.floor(Math.random()*Math.floor(this.state.nbColumns))];o;)(o=e.filter(function(e){return e[0]===i[0]&&e[1]===i[1]}).length>0)?i=[Math.floor(Math.random()*Math.floor(this.state.nbRows)),Math.floor(Math.random()*Math.floor(this.state.nbColumns))]:e.push([i[0],i[1]]);for(var r=[],s=0;s<this.state.nbRows;s++){for(var l=[],c=0;c<this.state.nbColumns;c++)l.push({showed:!1,bomb:!1,counter:0,marked:!1});r.push(l)}e.map(function(e){return r[e[0]][e[1]].bomb=!0,e});for(var m=function(t){for(var n=function(n){var a=0;e.map(function(e){return e[0]===t-1&&e[1]===n-1&&a++,e[0]===t-1&&e[1]===n&&a++,e[0]===t-1&&e[1]===n+1&&a++,e[0]===t&&e[1]===n-1&&a++,e[0]===t&&e[1]===n+1&&a++,e[0]===t+1&&e[1]===n-1&&a++,e[0]===t+1&&e[1]===n&&a++,e[0]===t+1&&e[1]===n+1&&a++,e}),r[t][n].counter=a},a=0;a<r[t].length;a++)n(a)},h=0;h<r.length;h++)m(h);this.setState({gameOver:!1,matrix:r})}},{key:"componentDidMount",value:function(){this.resetBombs()}},{key:"render",value:function(){var e=null,t=null;return this.state.gameOver&&(e=o.a.createElement("div",{className:"game-overlay",style:G},o.a.createElement("span",{style:I}),o.a.createElement("img",{alt:"",src:"https://media0.giphy.com/media/26tPdwMm4jyClgxTq/giphy.gif?cid=790b76113be8a3eda238c4edaa4be3e66abd0b54a5f7de32&rid=giphy.gif",style:z}),o.a.createElement("img",{alt:"",src:"https://i.gifer.com/5GpM.gif",style:N}),o.a.createElement("img",{alt:"",src:"https://i.gifer.com/YGg6.gif",style:X}),o.a.createElement("img",{alt:"",src:"https://media2.giphy.com/media/13zvwxJX6VzHqg/source.gif",style:L}),o.a.createElement("img",{alt:"",src:"https://media2.giphy.com/media/KfMhwrXg5WXjRC7v3M/giphy.gif",style:A}),o.a.createElement("img",{alt:"",src:"https://media3.giphy.com/media/10a1Cwco2kUtlS/giphy.gif",style:D}),o.a.createElement("img",{alt:"",src:"https://media.giphy.com/media/QPoCzipoOdlAODKovi/giphy.gif",style:P}),o.a.createElement("h2",{style:S},o.a.createElement("span",{role:"img","aria-label":"kaboom"},"\ud83d\udca5")," GAME OVER ",o.a.createElement("span",{role:"img","aria-label":"kaboom"},"\ud83d\udca5")),o.a.createElement("button",{style:W,onClick:this.resetGame},"Reset"))),this.nbLeftTiles()<=0&&!this.state.gameOver&&(t=o.a.createElement("div",{className:"game-overlay",style:G},o.a.createElement("img",{alt:"",src:"https://media.giphy.com/media/3rgXBvnbXtxwaWmhr2/source.gif",style:z}),o.a.createElement("img",{alt:"",src:"https://i.imgur.com/fWs529F.gif",style:A}),o.a.createElement("img",{alt:"",src:"https://img1.picmix.com/output/stamp/normal/5/9/6/8/648695_03eca.gif",style:N}),o.a.createElement("img",{alt:"",src:"https://media2.giphy.com/media/3ov9jCNV5rD8mCjsNG/giphy.gif",style:L}),o.a.createElement("img",{alt:"",className:"rotate",src:"https://media2.giphy.com/media/XWR4jehW2X2E0/giphy.gif",style:X}),o.a.createElement("img",{alt:"",src:"https://66.media.tumblr.com/8536b658c824f7f5ee5db70e5af1e11c/tumblr_pfa585inqo1rm7fw6o1_1280.gif",style:D}),o.a.createElement("img",{alt:"",src:"https://media.giphy.com/media/3oKIPvsbX1yYTrvC6s/giphy.gif",style:P}),o.a.createElement("h2",{style:S},o.a.createElement("span",{role:"img","aria-label":"hurray"},"\ud83c\udf89")," YOU WIN ",o.a.createElement("span",{role:"img","aria-label":"hurray"},"\ud83c\udf89")),o.a.createElement("button",{style:W,onClick:this.resetGame},"Reset"))),o.a.createElement("div",{className:"App",style:B},o.a.createElement(y,{handleChange:this.handleChange,nbRows:this.state.nbRows,nbColumns:this.state.nbColumns,nbBombs:this.state.nbBombs}),e,t,o.a.createElement(M,{table:this.state.matrix,nbLeftTiles:this.nbLeftTiles(),showTile:this.showTile,toggleMarkTile:this.toggleMarkTile,endGame:this.endGame}))}}]),t}(a.Component),B={height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},G={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},I={backgroundColor:"rgba(255, 255, 255, 0.7)",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:"1"},S={width:"100%",backgroundColor:"#0a3d62",color:"#fff",padding:"10px 15px",marginBottom:"20px",position:"relative",zIndex:"1"},W={fontSize:"2.2rem",appearance:"none",marginBottom:"40px",padding:"10px 15px",backgroundColor:"#0a3d62",color:"#fff",border:"0",cursor:"pointer",borderRadius:"5px",position:"relative",zIndex:"1"},z={minWidth:"100%",minHeight:"100%",position:"absolute",top:"0",left:"0",zIndex:"0",opacity:"0.5"},A={position:"absolute",bottom:"0",right:"0",zIndex:"2"},N={position:"absolute",bottom:"-20%",left:"0",width:"100%",zIndex:"1"},L={position:"absolute",bottom:"0",left:"0",zIndex:"2"},X={position:"absolute",bottom:"10%",left:"50%",transform:"translateX(-50%)",zIndex:"2",width:"400px"},D={position:"absolute",top:"0",right:"10%",zIndex:"2",maxWidth:"300px"},P={position:"absolute",top:"10%",left:"10%",zIndex:"2",maxWidth:"300px"},U=R,q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(U,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Minesweeper",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Minesweeper","/service-worker.js");q?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):H(t,e)})}}()}},[[10,1,2]]]);
//# sourceMappingURL=main.16c8cfe1.chunk.js.map