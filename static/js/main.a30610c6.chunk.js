(window.webpackJsonpdemineur=window.webpackJsonpdemineur||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(8),s=a.n(i),r=(a(15),a(9)),l=a(2),m=a(3),c=a(5),h=a(4),u=a(1),b=a(6),d=(a(16),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){return o.a.createElement("form",{style:p},o.a.createElement("div",{style:f},"Rows: ",o.a.createElement("input",{type:"number",name:"nbRows",value:this.props.nbRows,onChange:this.handleChange,style:g})),o.a.createElement("div",{style:f},"Columns: ",o.a.createElement("input",{type:"number",name:"nbColumns",value:this.props.nbColumns,onChange:this.handleChange,style:g})),o.a.createElement("div",{style:f},"Bombs: ",o.a.createElement("input",{type:"number",min:"1",max:Math.round(this.props.nbRows*this.props.nbColumns-this.props.nbRows*this.props.nbColumns/100*50),name:"nbBombs",value:this.props.nbBombs,onChange:this.handleChange,style:g})))}}]),t}(n.Component)),p={display:"flex",justifyContent:"center",width:"100%",backgroundColor:"#0a3d62",padding:"5px"},g={width:"50px",padding:"5px 0",border:"0",appearance:"none",margin:"5px",textAlign:"center"},f={display:"flex",alignItems:"center",color:"#fff"},y=d,v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,a=t.coords,n=t.infos,o=t.toggleMarkTile,i=t.endGame,s=t.showTile;"click"!==e.type||n.marked?"contextmenu"===e.type&&o(a):(s(a),n.bomb&&i())}},{key:"getCellStyle",value:function(){return{fontSize:"3rem",lineHeight:"48px",width:"50px",minWidth:"50px",height:"50px",textAlign:"center",cursor:"pointer",userSelect:"none",border:"2px solid #0a3d62",borderRadius:"8px",backgroundColor:this.props.infos.showed?"#fff":"#051e31"}}},{key:"render",value:function(){var e=this.props.infos,t=e.bomb,a=e.counter,n=e.marked,i=e.showed;return o.a.createElement("td",{className:"col",style:this.getCellStyle(),onClick:this.handleClick,onContextMenu:this.handleClick},o.a.createElement("div",null,n?o.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83d\udea9"):t&&i?o.a.createElement("span",{role:"img","aria-label":"bomb"},"\ud83d\udca3"):a&&i>0?a:""))}}]),t}(n.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){for(var e=[],t=this.props,a=t.columns,n=t.row,i=t.endGame,s=t.showTile,r=t.toggleMarkTile,l=0;l<a.length;l++)e.push(o.a.createElement(v,{coords:[n,l],infos:a[l],key:l,showTile:s,toggleMarkTile:r,endGame:i}));return o.a.createElement("tr",{className:"row",style:x},e)}}]),t}(n.Component),x={width:"100%"},C=w,k=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){for(var e=[],t=this.props,a=t.table,n=t.nbLeftTiles,i=t.endGame,s=t.showTile,r=t.toggleMarkTile,l=0;l<a.length;l++)e.push(o.a.createElement(C,{columns:a[l],key:l,row:l,showTile:s,toggleMarkTile:r,endGame:i}));return o.a.createElement("div",{style:E},o.a.createElement("div",{className:"remaining",style:O},"Remaining tiles: ",n),o.a.createElement("div",{className:"scrollable-table",style:j},o.a.createElement("table",{style:T},o.a.createElement("tbody",null,e))))}}]),t}(n.Component),E={flex:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},O={fontSize:"2rem"},j={maxWidth:"100%",overflowX:"scroll"},T={borderCollapse:"collapse"},M=k,R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={nbRows:10,nbColumns:7,nbBombs:10,gameOver:!1,matrix:[]},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.showTile=a.showTile.bind(Object(u.a)(a)),a.toggleMarkTile=a.toggleMarkTile.bind(Object(u.a)(a)),a.displayAll=a.displayAll.bind(Object(u.a)(a)),a.resetBombs=a.resetBombs.bind(Object(u.a)(a)),a.endGame=a.endGame.bind(Object(u.a)(a)),a.resetGame=a.resetGame.bind(Object(u.a)(a)),a.nbLeftTiles=a.nbLeftTiles.bind(Object(u.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(r.a)({},e.target.name,parseInt(e.target.value)>0?parseInt(e.target.value):1),this.resetBombs)}},{key:"toggleMarkTile",value:function(e){var t=this.state.matrix;t[e[0]][e[1]].marked=!t[e[0]][e[1]].marked,this.setState({matrix:t})}},{key:"showTile",value:function(e){var t=this.state.matrix;t[e[0]][e[1]].marked=!1,t[e[0]][e[1]].showed=!0,this.setState({matrix:t}),0!==this.nbLeftTiles()||this.state.gameOver||this.displayAll(),0!==t[e[0]][e[1]].counter||t[e[0]][e[1]].bomb||(t[e[0]-1]&&t[e[0]-1][e[1]-1]&&(0===t[e[0]-1][e[1]-1].counter||0!==t[e[0]-1][e[1]-1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]-1][e[1]-1].bomb&&!t[e[0]-1][e[1]-1].showed&&this.showTile([e[0]-1,e[1]-1]),t[e[0]-1]&&t[e[0]-1][e[1]]&&(0===t[e[0]-1][e[1]].counter||0!==t[e[0]-1][e[1]].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]-1][e[1]].bomb&&!t[e[0]-1][e[1]].showed&&this.showTile([e[0]-1,e[1]]),t[e[0]-1]&&t[e[0]-1][e[1]+1]&&(0===t[e[0]-1][e[1]+1].counter||0!==t[e[0]-1][e[1]+1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]-1][e[1]+1].bomb&&!t[e[0]-1][e[1]+1].showed&&this.showTile([e[0]-1,e[1]+1]),t[e[0]]&&t[e[0]][e[1]-1]&&(0===t[e[0]][e[1]-1].counter||0!==t[e[0]][e[1]-1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]][e[1]-1].bomb&&!t[e[0]][e[1]-1].showed&&this.showTile([e[0],e[1]-1]),t[e[0]]&&t[e[0]][e[1]+1]&&(0===t[e[0]][e[1]+1].counter||0!==t[e[0]][e[1]+1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]][e[1]+1].bomb&&!t[e[0]][e[1]+1].showed&&this.showTile([e[0],e[1]+1]),t[e[0]+1]&&t[e[0]+1][e[1]-1]&&(0===t[e[0]+1][e[1]-1].counter||0!==t[e[0]+1][e[1]-1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]+1][e[1]-1].bomb&&!t[e[0]+1][e[1]-1].showed&&this.showTile([e[0]+1,e[1]-1]),t[e[0]+1]&&t[e[0]+1][e[1]]&&(0===t[e[0]+1][e[1]].counter||0!==t[e[0]+1][e[1]].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]+1][e[1]].bomb&&!t[e[0]+1][e[1]].showed&&this.showTile([e[0]+1,e[1]]),t[e[0]+1]&&t[e[0]+1][e[1]+1]&&(0===t[e[0]+1][e[1]+1].counter||0!==t[e[0]+1][e[1]+1].counter&&0===t[e[0]][e[1]].counter)&&!t[e[0]+1][e[1]+1].bomb&&!t[e[0]+1][e[1]+1].showed&&this.showTile([e[0]+1,e[1]+1]))}},{key:"displayAll",value:function(){var e=this.state.matrix.map(function(e){return e.map(function(e){return e.showed=!0,e})});this.setState({matrix:e})}},{key:"nbLeftTiles",value:function(){var e=0;return this.state.matrix.map(function(t){return t.map(function(t){return t.showed||t.bomb||e++,t}),t}),e}},{key:"endGame",value:function(){this.displayAll(),this.setState({gameOver:!0})}},{key:"resetGame",value:function(){this.setState({gameOver:!1}),this.resetBombs()}},{key:"resetBombs",value:function(){var e=[],t=this.state.nbBombs,a=Math.round(this.state.nbRows*this.state.nbColumns-this.state.nbRows*this.state.nbColumns/100*50);this.state.nbBombs>a&&(this.setState({nbBombs:a}),t=a);for(var n=0;n<t;n++)for(var o=!0,i=[Math.floor(Math.random()*Math.floor(this.state.nbRows)),Math.floor(Math.random()*Math.floor(this.state.nbColumns))];o;)(o=e.filter(function(e){return e[0]===i[0]&&e[1]===i[1]}).length>0)?i=[Math.floor(Math.random()*Math.floor(this.state.nbRows)),Math.floor(Math.random()*Math.floor(this.state.nbColumns))]:e.push([i[0],i[1]]);for(var s=[],r=0;r<this.state.nbRows;r++){for(var l=[],m=0;m<this.state.nbColumns;m++)l.push({showed:!1,bomb:!1,counter:0,marked:!1});s.push(l)}e.map(function(e){return s[e[0]][e[1]].bomb=!0,e});for(var c=function(t){for(var a=function(a){var n=0;e.map(function(e){return e[0]===t-1&&e[1]===a-1&&n++,e[0]===t-1&&e[1]===a&&n++,e[0]===t-1&&e[1]===a+1&&n++,e[0]===t&&e[1]===a-1&&n++,e[0]===t&&e[1]===a+1&&n++,e[0]===t+1&&e[1]===a-1&&n++,e[0]===t+1&&e[1]===a&&n++,e[0]===t+1&&e[1]===a+1&&n++,e}),s[t][a].counter=n},n=0;n<s[t].length;n++)a(n)},h=0;h<s.length;h++)c(h);this.setState({gameOver:!1,matrix:s})}},{key:"componentDidMount",value:function(){this.resetBombs()}},{key:"render",value:function(){var e=null,t=null;return this.state.gameOver&&(e=o.a.createElement("div",{className:"game-overlay",style:G},o.a.createElement("span",{style:I}),o.a.createElement("img",{alt:"",src:"https://media0.giphy.com/media/26tPdwMm4jyClgxTq/giphy.gif?cid=790b76113be8a3eda238c4edaa4be3e66abd0b54a5f7de32&rid=giphy.gif",style:W}),o.a.createElement("img",{alt:"",src:"https://i.gifer.com/5GpM.gif",style:A}),o.a.createElement("img",{alt:"",src:"https://i.gifer.com/YGg6.gif",style:L}),o.a.createElement("img",{alt:"",src:"https://media2.giphy.com/media/13zvwxJX6VzHqg/source.gif",style:X}),o.a.createElement("img",{alt:"",src:"https://media2.giphy.com/media/KfMhwrXg5WXjRC7v3M/giphy.gif",style:N}),o.a.createElement("img",{alt:"",src:"https://media3.giphy.com/media/10a1Cwco2kUtlS/giphy.gif",style:D}),o.a.createElement("img",{alt:"",src:"https://media.giphy.com/media/QPoCzipoOdlAODKovi/giphy.gif",style:q}),o.a.createElement("h2",{style:z},o.a.createElement("span",{role:"img","aria-label":"kaboom"},"\ud83d\udca5")," GAME OVER ",o.a.createElement("span",{role:"img","aria-label":"kaboom"},"\ud83d\udca5")),o.a.createElement("button",{style:S,onClick:this.resetGame},"Reset"))),this.nbLeftTiles()<=0&&!this.state.gameOver&&(t=o.a.createElement("div",{className:"game-overlay",style:G},o.a.createElement("img",{alt:"",src:"https://media.giphy.com/media/3rgXBvnbXtxwaWmhr2/source.gif",style:W}),o.a.createElement("img",{alt:"",src:"https://i.imgur.com/fWs529F.gif",style:N}),o.a.createElement("img",{alt:"",src:"https://img1.picmix.com/output/stamp/normal/5/9/6/8/648695_03eca.gif",style:A}),o.a.createElement("img",{alt:"",src:"https://media2.giphy.com/media/3ov9jCNV5rD8mCjsNG/giphy.gif",style:X}),o.a.createElement("img",{alt:"",className:"rotate",src:"https://media2.giphy.com/media/XWR4jehW2X2E0/giphy.gif",style:L}),o.a.createElement("img",{alt:"",src:"https://66.media.tumblr.com/8536b658c824f7f5ee5db70e5af1e11c/tumblr_pfa585inqo1rm7fw6o1_1280.gif",style:D}),o.a.createElement("img",{alt:"",src:"https://media.giphy.com/media/3oKIPvsbX1yYTrvC6s/giphy.gif",style:q}),o.a.createElement("h2",{style:z},o.a.createElement("span",{role:"img","aria-label":"hurray"},"\ud83c\udf89")," YOU WIN ",o.a.createElement("span",{role:"img","aria-label":"hurray"},"\ud83c\udf89")),o.a.createElement("button",{style:S,onClick:this.resetGame},"Reset"))),o.a.createElement("div",{className:"App",style:B},o.a.createElement(y,{handleChange:this.handleChange,nbRows:this.state.nbRows,nbColumns:this.state.nbColumns,nbBombs:this.state.nbBombs}),e,t,o.a.createElement(M,{table:this.state.matrix,nbLeftTiles:this.nbLeftTiles(),showTile:this.showTile,toggleMarkTile:this.toggleMarkTile,endGame:this.endGame}))}}]),t}(n.Component),B={height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},G={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},I={backgroundColor:"rgba(255, 255, 255, 0.7)",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:"1"},z={width:"100%",backgroundColor:"#0a3d62",color:"#fff",padding:"10px 15px",marginBottom:"20px",position:"relative",zIndex:"1"},S={fontSize:"2.2rem",appearance:"none",marginBottom:"40px",padding:"10px 15px",backgroundColor:"#0a3d62",color:"#fff",border:"0",cursor:"pointer",borderRadius:"5px",position:"relative",zIndex:"1"},W={minWidth:"100%",minHeight:"100%",position:"absolute",top:"0",left:"0",zIndex:"0",opacity:"0.5"},N={position:"absolute",bottom:"0",right:"0",zIndex:"2"},A={position:"absolute",bottom:"-20%",left:"0",width:"100%",zIndex:"1"},X={position:"absolute",bottom:"0",left:"0",zIndex:"2"},L={position:"absolute",bottom:"10%",left:"50%",transform:"translateX(-50%)",zIndex:"2",width:"400px"},D={position:"absolute",top:"0",right:"10%",zIndex:"2",maxWidth:"300px"},q={position:"absolute",top:"10%",left:"10%",zIndex:"2",maxWidth:"300px"},H=R;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.a30610c6.chunk.js.map